<div class="container">
  <header>
    <h1>Dziennik Treningowy</h1>
    <div class="hamburger" (click)="toggleMenu()" [class.rotated]="menuOpen">
      â˜°
    </div>
  </header>

  <nav id="menu" class="menu" [class.hidden]="!menuOpen">
    <h2>ğŸ“… Wybierz istniejÄ…cy dzieÅ„ treningowy</h2>
    <select [(ngModel)]="selectedDate" (change)="onDayChange($event)">
  <option *ngFor="let day of days" [value]="day.date">{{day.date}}</option>
</select>

    
  </nav>

 <div class="container">
  <h2>â• Dodaj nowy dzieÅ„:</h2>
  <form (ngSubmit)="addNewDay()" #newDayForm="ngForm" class="add-day-form">
    <input type="date" [(ngModel)]="newDayDate" name="dayDate" required />
    <button type="submit" [disabled]="newDayForm.invalid">Dodaj</button>
  </form>

  <!-- WyÅ›wietl aktualny dzieÅ„ -->
  <div *ngIf="currentDay" class="current-day-panel">
   <h1>{{ currentDay?.date }}</h1>
    <!-- Input na nazwÄ™ Ä‡wiczenia -->
    <input type="text" [(ngModel)]="newExerciseName" placeholder="Nazwa Ä‡wiczenia" name="exerciseName" />

    <!-- Dodaj seriÄ™ -->
    <button (click)="addExercise()" [disabled]="!newExerciseName.trim()" class="add-set-btn">
      Dodaj seriÄ™
    </button>
  </div>
</div>

<div class="blurred-background"></div>
  <div id="currentDayContainer">
    <!-- renderowanie Ä‡wiczeÅ„ -->
    <div *ngIf="currentExercises?.length; else noData">
     <div *ngFor="let ex of currentExercises; trackBy: trackByExercise" class="exercise-card">
  <h2>{{ ex.name }}</h2>
  <table>
    <thead>
      <tr><th>Seria</th><th>PowtÃ³rzenia</th><th>Kg</th></tr>
    </thead>
    <tbody>
      <tr *ngFor="let s of ex.sets">
        <td><h3>{{s.set}}</h3></td>
        <td><h3>{{s.reps}}</h3></td>
        <td><h3>{{s.weight}}</h3></td>
      </tr>
    </tbody>
  </table>
  <form (submit)="addSet($event, ex)" class="add-set-form">
    <input type="number" name="reps" placeholder="PowtÃ³rzenia" required />
    <input type="number" name="weight" placeholder="Kg" required />
    <button type="submit">Dodaj seriÄ™</button>
  </form>


  <div class="chart-container">
    <canvas id="chart-{{ex.name}}"></canvas>
  </div>
</div>

    </div>
    <ng-template #noData>
      <p>Brak danych na ten dzieÅ„.</p>
    </ng-template>
  </div>
</div>
